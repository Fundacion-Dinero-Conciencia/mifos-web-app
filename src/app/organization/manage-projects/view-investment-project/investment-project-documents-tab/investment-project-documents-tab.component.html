<div class="tab-container mat-typography">
  <mat-form-field fxFlex="60%" class="inputSearch">
    <mat-label>{{ 'labels.text.Search by Text' | translate }}</mat-label>
    <input matInput (input)="filter($event)" />
  </mat-form-field>
  <mat-card>
    <h4 class="documents">
      <strong>{{ 'labels.heading.Documents' | translate }}</strong>
    </h4>
    <div fxLayout="row" fxLayoutAlign="end" fxLayoutGap="2%" fxLayout.lt-md="column" class="container m-b-20 m-r-0">
      <div fxFlex="10%" *mifosxHasPermission="'CREATE_DOCUMENT'">
        <button mat-raised-button class="f-right" color="primary" (click)="uploadDocument()" [disabled]="!canEdit">
          <fa-icon icon="plus" class="m-r-10"></fa-icon>{{ 'labels.buttons.Add' | translate }}
        </button>
      </div>
    </div>
    <section class="container">
      <table mat-table #documentsTable [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.name' | translate }}</th>
          <td mat-cell *matCellDef="let document">{{ document.name }}</td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.Description' | translate }}</th>
          <td mat-cell *matCellDef="let document">{{ document.description }}</td>
        </ng-container>

        <ng-container matColumnDef="filename">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.File Name' | translate }}</th>
          <td mat-cell *matCellDef="let document">{{ document.fileName }}</td>
        </ng-container>

        <ng-container matColumnDef="documentClass">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.Document Class' | translate }}</th>
          <td mat-cell *matCellDef="let document">{{ document.documentClass }}</td>
        </ng-container>

        <ng-container matColumnDef="documentType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.Document Type' | translate }}</th>
          <td mat-cell *matCellDef="let document">{{ document.documentType }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'labels.inputs.Actions' | translate }}</th>
          <td mat-cell *matCellDef="let document; let index">
            <button
              class="document-action-button"
              mat-raised-button
              color="primary"
              (click)="downloadDocument(document.id)"
            >
              <fa-icon icon="cloud-download-alt"></fa-icon>
            </button>
            <button
              class="document-action-button"
              mat-raised-button
              color="warn"
              (click)="deleteDocument(document.id, document.name)"
              [disabled]="!canEdit"
            >
              <fa-icon icon="times"></fa-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator
        *ngIf="InvestmentDocuments && InvestmentDocuments.length > 10"
        [pageSizeOptions]="[10, 25, 50]"
        showFirstLastButtons
      ></mat-paginator>
    </section>
  </mat-card>
</div>
